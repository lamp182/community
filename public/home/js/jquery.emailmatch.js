/*! passport_17173_com-2.3.6 2014-04-22 17:40:08 */
!function(a){function b(b,c){var d=a(b).find("li:not('.first')"),e=new Number;for(i=0;i<d.length;i++)"current"==d[i].className&&(e=i+c,d[i].className="");0>e&&(e=0),e>=d.length-1&&(e=d.length-1),d[e].className="current"}function c(a,b){for(var c in a)if(a[c]==b)return c}function d(b,c){var d=a.trim(a(b).find("li.current").text());"none"!==b.style.display&&d.split("@")[1]&&c.val(d)}function e(a,b,c,d,e){a.css({display:"block",top:c+d,left:e,width:b-2})}function f(a){a.css({display:"none"})}function g(b,d,e,g,h){0>h&&(h=0),h>g.length-1&&(h=g.length-1);var i="",j=!0;for(k=0;k<g.length;k++)""!=e&&0==g[k].indexOf(e)&&(j=!1);h=parseInt(""!=e&&j&&!c(g,e)?0:h),a.isArray(g)&&a.each(g,function(a){i+=j&&""!=e?a==h-1?'<li class="current"><span>'+d+"</span>@"+g[a]+"</li>":"<li><span>"+d+"</span>@"+g[a]+"</li>":a==h?'<li class="current"><span>'+d+"</span>@"+g[a]+"</li>":"<li><span>"+d+"</span>@"+g[a]+"</li>"}),i='<div class="smartBox-in"><ul>'+i+"</ul></div>",a(b).html(i),""!=e&&j&&f(a(b))}a.fn.emailMatch=function(c){var h={aEmail:["qq.com","gmail.com","126.com","163.com","hotmail.com","yahoo.com","yahoo.com.cn","live.com","sohu.com","sina.com"],wrapLayer:"body",className:"mailListBox",emailRemember:!0,autoCursor:!1,position:"bottom"};return c=c?a.extend(h,c):h,this.each(function(){var h=a(this),i=0,j=0,k=h.outerHeight(),l=(sMail=inputVal="",0);h.attr("autocomplete","off"),h.css("ime-mode","disabled"),a(window).resize(function(b){switch(("ontouchstart"in window||navigator.msMaxTouchPoints)&&b.preventDefault(),c.position){case"bottom":i=h.offset().top,j=h.offset().left;break;case"left":i=h.offset().top-k,j=h.offset().left-w;break;case"right":i=h.offset().top-k,j=h.offset().left+w;break;default:i=h.offset().top,j=h.offset().left}w=h.outerWidth(),f(a(m))}),a(window).trigger("resize");var m=document.createElement("div");a(m).attr({id:h.attr("id"),"class":c.className}).css("-webkit-tap-highlight-color","transparent"),a(c.wrapLayer).append(m),h.focusout(function(){""==h.val()&&f(a(m)),"none"!==m.style.display&&d(m,h),f(a(m))}),h.keyup(function(n){var o=[],p=n&&(n.which||n.keyCode);switch(p){case 9:return;case 13:n.preventDefault(),d(m,h),f(a(m));break;case 38:e(a(m),w,k,i,j),b(m,-1);break;case 40:e(a(m),w,k,i,j),b(m,1);break;default:inputVal=a.trim(h.val());var q=inputVal.indexOf("@"),r="",s=!0;if(q>=0){if(r=inputVal.substr(q+1),inputVal=inputVal.substring(0,q),a("#t2").text("BBB"+inputVal),""!=r&&c.emailRemember)for(var t=0;t<c.aEmail.length;t++)0==c.aEmail[t].indexOf(r)&&(o.push(c.aEmail[t]),s=!1);if(""!=r&&!c.emailRemember)for(var t=0;t<c.aEmail.length;t++)if(0==c.aEmail[t].indexOf(r)){l=t,s=!1;break}}o=o.length>0?o:c.aEmail;var u=h.val().indexOf("@")>-1;!h.val()&&""==inputVal&&""==r||!u?(f(a(m)),l=0,g(m,inputVal,r,c.aEmail,l)):u&&(e(a(m),w,k,i,j),g(m,inputVal,r,o,l))}}),a(m).find("li:not('.first')").live("mouseover",function(){a(this).addClass("hover").siblings().removeClass("hover")}),a(m).find("li:not('.first')").live("mousedown",function(){a(this).addClass("current").siblings().removeClass("current"),d(m,h),f(a(m))}),a(m).bind("mouseout",function(){a(m).find("li:not('.first')").removeClass("hover")})})}}(jQuery);